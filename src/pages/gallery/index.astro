---
import { fetchLatestGallery } from '../../utils/sanity';

const latest = await fetchLatestGallery();

if (!latest?.slug) {
  throw new Error('No gallery found');
}

const target = `/gallery/${latest.slug}`;
---
<style>
    /* This avoids the nasty redirect flash */
    body { display: none; }
  </style>

<html lang="en">
  <head>
    <meta http-equiv="refresh" content={`0; URL=${target}`} />
    <title>Redirecting...</title>
  </head>
  <body>
    <p>Redirecting to <a href={target}>{target}</a>â€¦</p>
  </body>
</html>